#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mt-plat/battery_meter.h>

/* ============================================================*/
/* define*/
/* ============================================================*/
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#define RBAT_PULL_DOWN_R		   27000	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#define RBAT_PULL_DOWN_R		  100000	
#endif
#define RBAT_PULL_UP_VOLT          1800



/* ============================================================*/
/* ENUM*/
/* ============================================================*/

/* ============================================================*/
/* structure*/
/* ============================================================*/

/* ============================================================*/
/* typedef*/
/* ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================*/
/* External Variables*/
/* ============================================================*/

/* ============================================================*/
/* External function*/
/* ============================================================*/

/* ============================================================*/
/* <DOD, Battery_Voltage> Table*/
/* ============================================================*/
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,68237},
        {-15,53650},
        {-10,42506},
        { -5,33892},
        {  0,27219},
        {  5,22021},
        { 10,17926},
        { 15,14674},
        { 20,12081},
        { 25,10000},
        { 30,8315},
        { 35,6948},
        { 40,5834},
        { 45,4917},
        { 50,4161},
        { 55,3535},
        { 60,3014}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

/* T0 -10C*/
BATTERY_PROFILE_STRUCT battery_profile_t0[] = {

	{0,4174},
	{2,4160},
	{4,4129},
	{6,4087},
	{8,4057},
	{10,4023},
	{12,3983},
	{14,3966},
	{17,3956},
	{19,3947},
	{21,3939},
	{23,3927},
	{25,3914},
	{27,3900},
	{29,3886},
	{31,3874},
	{34,3863},
	{36,3852},
	{38,3843},
	{40,3835},
	{42,3827},
	{44,3821},
	{46,3816},
	{48,3810},
	{50,3804},
	{53,3799},
	{55,3795},
	{57,3792},
	{59,3787},
	{61,3784},
	{63,3781},
	{65,3777},
	{68,3774},
	{70,3769},
	{72,3765},
	{74,3760},
	{76,3753},
	{78,3745},
	{80,3737},
	{82,3728},
	{85,3720},
	{87,3714},
	{89,3709},
	{91,3701},
	{93,3685},
	{95,3644},
	{97,3599},
	{98,3565},
	{98,3539},
	{98,3523},
	{99,3510},
	{99,3500},
	{99,3494},
	{99,3489},
	{99,3485},
	{99,3482},
	{99,3479},
	{99,3478},
	{99,3476},
	{99,3475},
	{100,3475},
	{100,3400}
};

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] = {

	{0,4162},
	{1,4127},
	{3,4104},
	{5,4091},
	{7,4081},
	{9,4056},
	{11,4024},
	{13,4001},
	{15,3985},
	{17,3973},
	{19,3965},
	{21,3958},
	{23,3950},
	{25,3939},
	{27,3926},
	{29,3912},
	{31,3897},
	{33,3884},
	{35,3872},
	{37,3861},
	{39,3851},
	{41,3842},
	{43,3835},
	{45,3828},
	{47,3822},
	{49,3815},
	{51,3810},
	{53,3805},
	{55,3800},
	{57,3796},
	{58,3792},
	{60,3788},
	{62,3784},
	{64,3782},
	{66,3779},
	{68,3776},
	{70,3773},
	{72,3769},
	{74,3764},
	{76,3759},
	{78,3752},
	{80,3744},
	{82,3735},
	{84,3726},
	{86,3714},
	{88,3706},
	{90,3702},
	{92,3700},
	{94,3690},
	{96,3638},
	{98,3537},
	{99,3446},
	{99,3406},
	{100,3385},
	{100,3373},
	{100,3364},
	{100,3358},
	{100,3355},
	{100,3351},
	{100,3348},
	{100,3347},
	{100,3347}
};

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = {

	{0,4181},
	{1,4157},
	{3,4139},
	{5,4121},
	{7,4104},
	{9,4089},
	{11,4079},
	{13,4069},
	{14,4048},
	{16,4023},
	{18,4004},
	{20,3991},
	{22,3983},
	{24,3974},
	{26,3965},
	{27,3954},
	{29,3943},
	{31,3931},
	{33,3918},
	{35,3903},
	{37,3889},
	{39,3876},
	{40,3864},
	{42,3853},
	{44,3844},
	{46,3836},
	{48,3829},
	{50,3822},
	{52,3816},
	{53,3810},
	{55,3805},
	{57,3800},
	{59,3795},
	{61,3791},
	{63,3787},
	{65,3783},
	{66,3779},
	{68,3775},
	{70,3769},
	{72,3763},
	{74,3757},
	{76,3750},
	{78,3745},
	{79,3739},
	{81,3731},
	{83,3722},
	{85,3714},
	{87,3701},
	{89,3692},
	{90,3690},
	{92,3688},
	{94,3681},
	{96,3631},
	{98,3539},
	{100,3373},
	{100,3293},
	{100,3275},
	{100,3269},
	{100,3264},
	{100,3262},
	{100,3261},
	{100,3261}
};

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] = {

	{0,4188},
	{1,4166},
	{3,4147},
	{5,4129},
	{7,4114},
	{9,4098},
	{11,4081},
	{12,4067},
	{14,4054},
	{16,4039},
	{18,4023},
	{20,4009},
	{22,3997},
	{23,3985},
	{25,3973},
	{27,3961},
	{29,3950},
	{31,3937},
	{33,3925},
	{34,3912},
	{36,3898},
	{38,3885},
	{40,3872},
	{42,3861},
	{44,3850},
	{45,3841},
	{47,3833},
	{49,3826},
	{51,3819},
	{53,3813},
	{55,3807},
	{56,3803},
	{58,3797},
	{60,3793},
	{62,3788},
	{64,3783},
	{66,3779},
	{67,3773},
	{69,3766},
	{71,3756},
	{73,3748},
	{75,3741},
	{77,3734},
	{78,3729},
	{80,3723},
	{82,3715},
	{84,3705},
	{86,3697},
	{88,3684},
	{89,3680},
	{91,3677},
	{93,3673},
	{95,3657},
	{97,3593},
	{99,3489},
	{99,3489},
	{99,3489},
	{99,3489},
	{99,3489},
	{99,3489},
	{99,3489},
	{99,3489}
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] = {

	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};
/* ============================================================*/
/* <Rbat, Battery_Voltage> Table*/
/* ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] = {

	{333,4174},
	{332,4160},
	{345,4129},
	{357,4087},
	{395,4057},
	{452,4023},
	{600,3983},
	{685,3966},
	{697,3956},
	{705,3947},
	{712,3939},
	{707,3927},
	{705,3914},
	{697,3900},
	{692,3886},
	{687,3874},
	{685,3863},
	{682,3852},
	{685,3843},
	{687,3835},
	{685,3827},
	{690,3821},
	{697,3816},
	{702,3810},
	{705,3804},
	{702,3799},
	{712,3795},
	{717,3792},
	{715,3787},
	{720,3784},
	{725,3781},
	{722,3777},
	{730,3774},
	{730,3769},
	{740,3765},
	{742,3760},
	{745,3753},
	{747,3745},
	{752,3737},
	{762,3728},
	{775,3720},
	{805,3714},
	{845,3709},
	{897,3701},
	{960,3685},
	{1022,3644},
	{1000,3599},
	{915,3565},
	{852,3539},
	{810,3523},
	{775,3510},
	{755,3500},
	{737,3494},
	{725,3489},
	{717,3485},
	{707,3482},
	{705,3479},
	{700,3478},
	{695,3476},
	{690,3475},
	{692,3475},
	{500,3400}
};

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = {

	{348,4162},
	{347,4127},
	{377,4104},
	{390,4091},
	{410,4081},
	{415,4056},
	{415,4024},
	{420,4001},
	{422,3985},
	{427,3973},
	{432,3965},
	{435,3958},
	{435,3950},
	{435,3939},
	{425,3926},
	{420,3912},
	{405,3897},
	{400,3884},
	{397,3872},
	{390,3861},
	{390,3851},
	{387,3842},
	{390,3835},
	{392,3828},
	{397,3822},
	{397,3815},
	{400,3810},
	{402,3805},
	{405,3800},
	{410,3796},
	{412,3792},
	{415,3788},
	{415,3784},
	{417,3782},
	{415,3779},
	{417,3776},
	{420,3773},
	{422,3769},
	{422,3764},
	{425,3759},
	{425,3752},
	{425,3744},
	{425,3735},
	{430,3726},
	{425,3714},
	{432,3706},
	{452,3702},
	{492,3700},
	{537,3690},
	{552,3638},
	{605,3537},
	{617,3446},
	{520,3406},
	{467,3385},
	{432,3373},
	{412,3364},
	{402,3358},
	{392,3355},
	{385,3351},
	{380,3348},
	{370,3347},
	{370,3347}
};

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = {

	{198,4181},
	{197,4157},
	{202,4139},
	{205,4121},
	{205,4104},
	{205,4089},
	{210,4079},
	{220,4069},
	{217,4048},
	{217,4023},
	{220,4004},
	{222,3991},
	{230,3983},
	{235,3974},
	{237,3965},
	{240,3954},
	{245,3943},
	{242,3931},
	{242,3918},
	{230,3903},
	{222,3889},
	{215,3876},
	{210,3864},
	{205,3853},
	{200,3844},
	{202,3836},
	{202,3829},
	{200,3822},
	{200,3816},
	{197,3810},
	{200,3805},
	{200,3800},
	{200,3795},
	{202,3791},
	{202,3787},
	{202,3783},
	{202,3779},
	{202,3775},
	{197,3769},
	{195,3763},
	{192,3757},
	{190,3750},
	{192,3745},
	{195,3739},
	{195,3731},
	{195,3722},
	{197,3714},
	{192,3701},
	{190,3692},
	{197,3690},
	{210,3688},
	{222,3681},
	{212,3631},
	{222,3539},
	{247,3373},
	{232,3293},
	{190,3275},
	{172,3269},
	{165,3264},
	{162,3262},
	{162,3261},
	{155,3261}
};

/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = {

	{148,4188},
	{147,4166},
	{150,4147},
	{150,4129},
	{152,4114},
	{155,4098},
	{155,4081},
	{157,4067},
	{160,4054},
	{162,4039},
	{162,4023},
	{165,4009},
	{170,3997},
	{170,3985},
	{175,3973},
	{177,3961},
	{182,3950},
	{185,3937},
	{185,3925},
	{185,3912},
	{177,3898},
	{172,3885},
	{167,3872},
	{160,3861},
	{157,3850},
	{155,3841},
	{157,3833},
	{157,3826},
	{155,3819},
	{157,3813},
	{160,3807},
	{165,3803},
	{162,3797},
	{167,3793},
	{165,3788},
	{167,3783},
	{170,3779},
	{165,3773},
	{162,3766},
	{155,3756},
	{155,3748},
	{155,3741},
	{152,3734},
	{155,3729},
	{157,3723},
	{155,3715},
	{155,3705},
	{157,3697},
	{150,3684},
	{155,3680},
	{157,3677},
	{165,3673},
	{167,3657},
	{170,3593},
	{180,3489},
	{180,3489},
	{180,3489},
	{180,3489},
	{180,3489},
	{180,3489},
	{180,3489},
	{180,3489}
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = {

	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

/* ============================================================*/
/* function prototype*/
/* ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

